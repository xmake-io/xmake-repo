package("dr_mp3")
    set_kind("library", {headeronly = true})
    set_homepage("https://github.com/mackron/dr_libs")
    set_description("Single file audio decoding libraries for C/C++.")
    set_license("MIT")

    set_urls("https://github.com/mackron/dr_libs.git", {submodules = false})
    add_versions("0.7.3", "5690d4671d7ad07ae6021756d7222eb159745f06")
    add_versions("0.7.2", "547c211a87a06a42bf62c1366616aa14b57dd429")
    add_versions("0.7.1", "9de1c5dff6810cdb1a9c69a97a9808495168c4d0")
    add_versions("0.6.40", "37a5ffb671a4465cfefc7ba8ce7e8ae298612e5a")
    add_versions("0.6.39", "da35f9d6c7374a95353fd1df1d394d44ab66cf01")
    add_versions("0.6.38", "01d23df76776faccee3bc456f685900dcc273b4c")
    add_versions("0.6.37", "1b0bc87c6b9b04052e6ef0117396dab8482c250e")
    add_versions("0.6.36", "b7f4c04e77b4c14347b74503e4ce93494e314283")
    add_versions("0.6.34", "dd762b861ecadf5ddd5fb03e9ca1db6707b54fbb")
    add_versions("0.6.27", "f357ade3aae55ced341aa7c83b4e7f628f948e51")

    on_install(function (package)
        os.cp("dr_mp3.h", package:installdir("include"))
    end)

    on_test(function (package)
        assert(package:has_cfuncs("drmp3_init", {includes = "dr_mp3.h"}))
    end)
