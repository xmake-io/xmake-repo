<div align="center">
  <a href="https://xmake.io">
    <img width="160" heigth="160" src="https://tboox.org/static/img/xmake/logo256c.png">
  </a>

  <h1>xmake-repo</h1>

  <div>
    <a href="https://github.com/xmake-io/xmake-repo/actions?query=workflow%3AWindows">
      <img src="https://img.shields.io/github/actions/workflow/status/xmake-io/xmake-repo/windows.yml?branch=dev&style=flat-square&logo=windows" alt="github-ci" />
    </a>
    <a href="https://github.com/xmake-io/xmake-repo/actions?query=workflow%3ALinux">
      <img src="https://img.shields.io/github/actions/workflow/status/xmake-io/xmake-repo/ubuntu.yml?branch=dev&style=flat-square&logo=linux" alt="github-ci" />
    </a>
    <a href="https://github.com/xmake-io/xmake-repo/actions?query=workflow%3AmacOS">
      <img src="https://img.shields.io/github/actions/workflow/status/xmake-io/xmake-repo/macos.yml?branch=dev&style=flat-square&logo=apple" alt="github-ci" />
    </a>
    <a href="https://github.com/xmake-io/xmake-repo/actions?query=workflow%3AAndroid">
      <img src="https://img.shields.io/github/actions/workflow/status/xmake-io/xmake-repo/android.yml?branch=dev&style=flat-square&logo=android" alt="github-ci" />
    </a>
  </div>
  <div>
    <a href="https://www.reddit.com/r/tboox/">
      <img src="https://img.shields.io/badge/chat-on%20reddit-ff3f34.svg?style=flat-square" alt="Reddit" />
    </a>
    <a href="https://gitter.im/tboox/tboox?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge">
      <img src="https://img.shields.io/gitter/room/tboox/tboox.svg?style=flat-square&colorB=96c312" alt="Gitter" />
    </a>
    <a href="https://t.me/tbooxorg">
      <img src="https://img.shields.io/badge/chat-on%20telegram-blue.svg?style=flat-square" alt="Telegram" />
    </a>
    <a href="https://jq.qq.com/?_wv=1027&k=5hpwWFv">
      <img src="https://img.shields.io/badge/chat-on%20QQ-ff69b4.svg?style=flat-square" alt="QQ" />
    </a>
    <a href="https://discord.gg/XXRp26A4Gr">
      <img src="https://img.shields.io/badge/chat-on%20discord-7289da.svg?style=flat-square" alt="Discord" />
    </a>
    <a href="https://github.com/xmake-io/xmake-repo/blob/master/LICENSE.md">
      <img src="https://img.shields.io/github/license/xmake-io/xmake-repo.svg?colorB=f48041&style=flat-square" alt="license" />
    </a>
    <a href="http://xmake.io/pages/donation.html#donate">
      <img src="https://img.shields.io/badge/donate-us-orange.svg?style=flat-square" alt="Donate" />
    </a>
  </div>

  <p>ä¸€ä¸ªå®˜æ–¹çš„xmakeåŒ…ç®¡ç†ä»“åº“</p>
</div>

## é¡¹ç›®æ”¯æŒ

é€šè¿‡æˆä¸ºèµåŠ©è€…æ¥æ”¯æŒè¯¥é¡¹ç›®ã€‚æ‚¨çš„logoå°†æ˜¾ç¤ºåœ¨æ­¤å¤„ï¼Œå¹¶å¸¦æœ‰æŒ‡å‘æ‚¨ç½‘ç«™çš„é“¾æ¥ã€‚ğŸ™ [[æˆä¸ºèµåŠ©å•†](https://xmake.io/#/zh-cn/about/sponsor)]

<a href="https://opencollective.com/xmake#backers" target="_blank"><img src="https://opencollective.com/xmake/backers.svg?width=890"></a>

## ç®€ä»‹

xmake-repoæ˜¯ä¸€ä¸ªå®˜æ–¹çš„xmakeåŒ…ç®¡ç†ä»“åº“ï¼Œæ”¶å½•äº†å¸¸ç”¨çš„c/c++å¼€å‘åŒ…ï¼Œæä¾›è·¨å¹³å°æ”¯æŒã€‚

## åŒ…ä¾èµ–æè¿°

<img src="https://xmake.io/assets/img/index/add_require.png" width="70%" />

## åŒ…ä¾èµ–ç®¡ç†

<img src="https://xmake.io/assets/img/index/package_manage.png" width="80%" />

å¦‚æœä½ æƒ³è¦äº†è§£æ›´å¤šï¼Œè¯·å‚è€ƒï¼š

* [åœ¨çº¿æ–‡æ¡£](https://xmake.io/#/zh-cn/package/remote_package)
* [åœ¨çº¿æºç ](https://github.com/xmake-io/xmake)
* [é¡¹ç›®ä¸»é¡µ](https://xmake.io/#/zh-cn/)

## Xrepo

xrepo æ˜¯ä¸€ä¸ªåŸºäº [Xmake](https://github.com/xmake-io/xmake) çš„è·¨å¹³å° C/C++ åŒ…ç®¡ç†å™¨ã€‚

å®ƒåŸºäº xmake æä¾›çš„è¿è¡Œæ—¶ï¼Œä½†å´æ˜¯ä¸€ä¸ªå®Œæ•´ç‹¬ç«‹çš„åŒ…ç®¡ç†ç¨‹åºï¼Œç›¸æ¯” vcpkg/homebrew æ­¤ç±»åŒ…ç®¡ç†å™¨ï¼Œxrepo èƒ½å¤ŸåŒæ—¶æä¾›æ›´å¤šå¹³å°å’Œæ¶æ„çš„ C/C++ åŒ…ã€‚

å¦‚æœä½ æƒ³è¦äº†è§£æ›´å¤šï¼Œè¯·å‚è€ƒï¼š[åœ¨çº¿æ–‡æ¡£](https://xrepo.xmake.io/#/zh-cn/getting_started), [Github](https://github.com/xmake-io/xrepo) ä»¥åŠ [Gitee](https://gitee.com/tboox/xrepo)

![](https://xrepo.xmake.io/assets/img/xrepo.gif)

## æäº¤ä¸€ä¸ªæ–°åŒ…åˆ°ä»“åº“

åœ¨`packages/x/xxx/xmake.lua`ä¸­å†™ä¸ªå…³äºæ–°åŒ…çš„xmake.luaæè¿°ï¼Œç„¶åæäº¤ä¸€ä¸ªpull-requeståˆ°devåˆ†æ”¯ã€‚

ä¾‹å¦‚ï¼š[packages/z/zlib/xmake.lua](https://github.com/xmake-io/xmake-repo/blob/dev/packages/z/zlib/xmake.lua):

å…³äºå¦‚ä½•åˆ¶ä½œåŒ…çš„æ›´è¯¦ç»†æè¿°ï¼Œè¯·å‚çœ‹æ–‡æ¡£ï¼š[åˆ¶ä½œå’Œæäº¤åˆ°å®˜æ–¹ä»“åº“](https://xmake.io/#/zh-cn/package/remote_package?id=%e6%b7%bb%e5%8a%a0%e5%8c%85%e5%88%b0%e4%bb%93%e5%ba%93)

## ä» Github åˆ›å»ºä¸€ä¸ªåŒ…æ¨¡æ¿

æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… [gh](https://github.com/cli/cli) cli å·¥å…·ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ç™»å…¥ githubã€‚

```console
$ gh auth login
```

åŸºäº github çš„åŒ…åœ°å€åˆ›å»ºä¸€ä¸ªåŒ…é…ç½®æ–‡ä»¶åˆ°æ­¤ä»“åº“ã€‚

```console
$ xmake l scripts/new.lua github:glennrp/libpng
package("libpng")
    set_homepage("http://libpng.sf.net")
    set_description("LIBPNG: Portable Network Graphics support, official libpng repository")

    add_urls("https://github.com/glennrp/libpng/archive/refs/tags/$(version).tar.gz",
             "https://github.com/glennrp/libpng.git")
    add_versions("v1.6.35", "6d59d6a154ccbb772ec11772cb8f8beb0d382b61e7ccc62435bf7311c9f4b210")

    add_deps("cmake")

    on_install(function (package)
        local configs = {}
        table.insert(configs, "-DCMAKE_BUILD_TYPE=" .. (package:debug() and "Debug" or "Release"))
        table.insert(configs, "-DBUILD_SHARED_LIBS=" .. (package:config("shared") and "ON" or "OFF"))
        import("package.tools.cmake").install(package, configs)
    end)

    on_test(function (package)
        assert(package:has_cfuncs("foo", {includes = "foo.h"}))
    end)
packages/l/libpng/xmake.lua generated!
```

### åœ¨æœ¬åœ°æµ‹è¯•ä¸€ä¸ªåŒ…

```console
$ xmake l scripts/test.lua --shallow -vD zlib
$ xmake l scripts/test.lua --shallow -vD -p iphoneos zlib
$ xmake l scripts/test.lua --shallow -vD -k shared -m debug zlib
$ xmake l scripts/test.lua --shallow -vD --vs_runtime=MD zlib
```
